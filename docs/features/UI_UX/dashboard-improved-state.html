<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot Dashboard - Vers√£o Melhorada (UZZ.AI Branding)</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;500;600&family=Exo+2:wght@400;600&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: #1C1C1C;
        }

        /* Role Selector (Simulador) */
        .role-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(26, 188, 156, 0.2);
            border: 2px solid #1ABC9C;
        }

        .role-selector label {
            display: block;
            font-weight: 600;
            color: #1C1C1C;
            margin-bottom: 8px;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .role-selector select {
            padding: 8px 12px;
            border: 2px solid #B0B0B0;
            border-radius: 6px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            background: white;
            color: #1C1C1C;
            transition: all 0.2s;
        }

        .role-selector select:hover {
            border-color: #1ABC9C;
        }

        .role-selector select:focus {
            outline: none;
            border-color: #1ABC9C;
            box-shadow: 0 0 0 3px rgba(26, 188, 156, 0.1);
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar - UZZ.AI Branding */
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1C1C1C 0%, #0a0a0a 100%);
            border-right: 1px solid rgba(26, 188, 156, 0.2);
            padding: 24px;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 4px 0 24px rgba(0, 0, 0, 0.15);
        }

        /* Logo Header - UZZ.AI Style */
        .sidebar-header {
            margin-bottom: 32px;
            text-align: center;
        }

        .sidebar-header h1 {
            font-size: 32px;
            font-weight: 400;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .sidebar-header .logo-uzz {
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            color: #1ABC9C;
            letter-spacing: 1px;
        }

        .sidebar-header .logo-ai {
            font-family: 'Exo 2', sans-serif;
            font-weight: 600;
            color: #2E86AB;
        }

        .sidebar-header p {
            font-size: 13px;
            color: #B0B0B0;
            margin-top: 8px;
            font-weight: 500;
        }

        .separator {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(26, 188, 156, 0.3), transparent);
            margin: 24px 0;
        }

        /* Section Headers - NEW! */
        .nav-section-header {
            font-size: 10px;
            font-weight: 700;
            color: #B0B0B0;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 16px 0 8px 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-section-header::before {
            content: '';
            width: 3px;
            height: 12px;
            background: #1ABC9C;
            border-radius: 2px;
        }

        .nav-menu {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 14px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            font-weight: 500;
            color: #B0B0B0;
            position: relative;
            border: 1px solid transparent;
        }

        .nav-item:hover {
            background: rgba(26, 188, 156, 0.1);
            color: #1ABC9C;
            border-color: rgba(26, 188, 156, 0.2);
            transform: translateX(4px);
        }

        .nav-item.active {
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.15), rgba(46, 134, 171, 0.15));
            color: #1ABC9C;
            border-color: #1ABC9C;
            font-weight: 600;
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            stroke-width: 2.5;
        }

        /* Badges - NEW! */
        .nav-badge {
            margin-left: auto;
            padding: 3px 8px;
            font-size: 9px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-radius: 4px;
            white-space: nowrap;
        }

        .nav-badge.new {
            background: linear-gradient(135deg, #1ABC9C, #FFD700);
            color: #1C1C1C;
        }

        .nav-badge.beta {
            background: rgba(46, 134, 171, 0.2);
            color: #2E86AB;
            border: 1px solid #2E86AB;
        }

        .nav-badge.admin {
            background: rgba(255, 215, 0, 0.15);
            color: #FFD700;
            border: 1px solid #FFD700;
        }

        .nav-badge.dev {
            background: rgba(176, 176, 176, 0.15);
            color: #B0B0B0;
            border: 1px solid #B0B0B0;
        }

        /* Tooltip - NEW! */
        .nav-item[data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%) translateX(10px);
            background: #1C1C1C;
            color: #1ABC9C;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.2s;
            border: 1px solid #1ABC9C;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .nav-item[data-tooltip]:hover::after {
            opacity: 1;
            transform: translateY(-50%) translateX(15px);
        }

        /* User Info - Melhorado */
        .user-info {
            margin-top: auto;
            padding: 16px;
            background: rgba(26, 188, 156, 0.05);
            border-radius: 10px;
            border: 1px solid rgba(26, 188, 156, 0.2);
        }

        .user-info p {
            font-size: 11px;
            color: #B0B0B0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .user-info .user-name {
            font-weight: 600;
            color: #1ABC9C;
            font-size: 15px;
            margin-top: 6px;
            font-family: 'Poppins', sans-serif;
        }

        .user-info .user-role {
            display: inline-block;
            margin-top: 6px;
            padding: 4px 10px;
            background: rgba(255, 215, 0, 0.15);
            color: #FFD700;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .logout-btn {
            width: 100%;
            padding: 12px;
            margin-top: 12px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .logout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(239, 68, 68, 0.4);
        }

        .version-info {
            font-size: 11px;
            color: #B0B0B0;
            margin-top: 16px;
            text-align: center;
        }

        .version-info .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            margin-top: 6px;
        }

        .version-info .status-dot {
            width: 8px;
            height: 8px;
            background: #1ABC9C;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 40px;
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 2px solid #e5e7eb;
        }

        .page-header h2 {
            font-family: 'Poppins', sans-serif;
            font-size: 32px;
            font-weight: 700;
            color: #1C1C1C;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #1ABC9C, #2E86AB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-header p {
            font-size: 16px;
            color: #6b7280;
        }

        /* Success Banner - NEW! */
        .success-banner {
            background: linear-gradient(135deg, #dcfce7, #d1fae5);
            border: 2px solid #1ABC9C;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 32px;
            display: flex;
            gap: 16px;
            align-items: start;
            box-shadow: 0 4px 12px rgba(26, 188, 156, 0.15);
        }

        .success-banner svg {
            width: 24px;
            height: 24px;
            color: #1ABC9C;
            flex-shrink: 0;
        }

        .success-banner .content {
            flex: 1;
        }

        .success-banner h4 {
            font-weight: 700;
            color: #065f46;
            margin-bottom: 6px;
            font-family: 'Poppins', sans-serif;
        }

        .success-banner p {
            color: #065f46;
            font-size: 14px;
            line-height: 1.6;
        }

        .success-banner ul {
            margin-top: 12px;
            margin-left: 20px;
            color: #065f46;
            font-size: 14px;
        }

        .success-banner li {
            margin-bottom: 6px;
        }

        /* Metrics Cards - UZZ.AI Style */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .metric-card {
            background: linear-gradient(135deg, white, #f8f9fa);
            padding: 28px;
            border-radius: 16px;
            border: 2px solid #e5e7eb;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #1ABC9C, #2E86AB);
        }

        .metric-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(26, 188, 156, 0.2);
            border-color: #1ABC9C;
        }

        .metric-card h3 {
            font-size: 13px;
            color: #6b7280;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .metric-card .value {
            font-size: 40px;
            font-weight: 700;
            color: #1C1C1C;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1ABC9C, #2E86AB);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-card .trend {
            font-size: 12px;
            color: #1ABC9C;
            margin-top: 8px;
            font-weight: 600;
        }

        /* Conversations List - Melhorada */
        .conversations-list {
            background: white;
            border-radius: 16px;
            border: 2px solid #e5e7eb;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .conversation-item {
            padding: 20px;
            border-bottom: 1px solid #f3f4f6;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
        }

        .conversation-item:last-child {
            border-bottom: none;
        }

        .conversation-item:hover {
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.05), rgba(46, 134, 171, 0.05));
            transform: translateX(4px);
        }

        .conversation-name {
            font-weight: 700;
            color: #1C1C1C;
            font-size: 15px;
            font-family: 'Poppins', sans-serif;
        }

        .conversation-phone {
            font-size: 13px;
            color: #6b7280;
            font-family: 'Fira Code', monospace;
            margin-top: 4px;
        }

        .status-badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-badge.bot {
            background: rgba(26, 188, 156, 0.15);
            color: #1ABC9C;
            border: 1px solid #1ABC9C;
        }

        .status-badge.humano {
            background: rgba(46, 134, 171, 0.15);
            color: #2E86AB;
            border: 1px solid #2E86AB;
        }

        .status-badge.transferido {
            background: rgba(255, 215, 0, 0.15);
            color: #FFD700;
            border: 1px solid #FFD700;
        }

        /* Empty State - NEW! */
        .empty-state {
            text-align: center;
            padding: 80px 32px;
            background: linear-gradient(135deg, white, #f8f9fa);
            border-radius: 16px;
            border: 2px dashed #e5e7eb;
        }

        .empty-state svg {
            width: 80px;
            height: 80px;
            color: #B0B0B0;
            margin-bottom: 20px;
        }

        .empty-state h3 {
            font-size: 22px;
            color: #1C1C1C;
            margin-bottom: 12px;
            font-family: 'Poppins', sans-serif;
        }

        .empty-state p {
            color: #6b7280;
            font-size: 15px;
            margin-bottom: 24px;
        }

        .empty-state button {
            padding: 12px 28px;
            background: linear-gradient(135deg, #1ABC9C, #2E86AB);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 12px rgba(26, 188, 156, 0.3);
        }

        .empty-state button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(26, 188, 156, 0.4);
        }

        /* Improvement Highlights */
        .improvement-highlight {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid #1ABC9C;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            font-size: 13px;
            color: #065f46;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .improvement-highlight::before {
            content: '‚ú®';
            font-size: 24px;
        }

        /* Hidden class for role-based visibility */
        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: relative;
                height: auto;
            }

            .main-content {
                margin-left: 0;
            }

            .role-selector {
                position: static;
                margin: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Role Selector (Simulador) -->
    <div class="role-selector">
        <label for="roleSelect">üë§ Simular Role:</label>
        <select id="roleSelect" onchange="changeRole(this.value)">
            <option value="user">Cliente Padr√£o (user)</option>
            <option value="client_admin">Admin Cliente (client_admin)</option>
            <option value="admin">Super Admin (admin)</option>
        </select>
    </div>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>
                    <span class="logo-uzz">Uzz</span><span class="logo-ai">Ai</span>
                </h1>
                <p>Automa√ß√£o Criativa, Realizada</p>
            </div>

            <div class="separator"></div>

            <nav class="nav-menu">
                <!-- SE√á√ÉO PRINCIPAL - NEW! -->
                <div class="nav-section-header">Principal</div>

                <div class="nav-item active" onclick="showPage('dashboard')" data-tooltip="Vis√£o geral com m√©tricas principais">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    Dashboard
                </div>

                <div class="nav-item" onclick="showPage('conversations')" data-tooltip="Gerencie todas as conversas do WhatsApp">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                    Conversas
                </div>

                <!-- SE√á√ÉO GEST√ÉO - NEW! -->
                <div class="nav-section-header">Gest√£o</div>

                <div class="nav-item" onclick="showPage('contacts')" data-tooltip="Lista de todos os contatos cadastrados">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    Contatos
                </div>

                <div class="nav-item" onclick="showPage('templates')" data-tooltip="Templates de mensagens do WhatsApp Business">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    Templates
                </div>

                <div class="nav-item" onclick="showPage('knowledge')" data-tooltip="Base de conhecimento RAG com PDFs e documentos">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    Base de Conhecimento
                    <span class="nav-badge new">Novo</span>
                </div>

                <div class="nav-item" onclick="showPage('flows')" data-tooltip="Crie fluxos de conversa automatizados e interativos">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
                    </svg>
                    Flows Interativos
                    <span class="nav-badge beta">Beta</span>
                </div>

                <!-- SE√á√ÉO AN√ÅLISE - NEW! -->
                <div class="nav-section-header">An√°lise</div>

                <div class="nav-item" onclick="showPage('analytics')" data-tooltip="M√©tricas, estat√≠sticas e relat√≥rios de uso">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    Analytics
                </div>

                <!-- SE√á√ÉO ADMIN - Oculta para user! -->
                <div class="nav-section-header admin-only">Administra√ß√£o</div>

                <div class="nav-item admin-only" onclick="showPage('budget-plans')" data-tooltip="Gerencie planos e limites de or√ßamento (Admin)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    Budget Plans
                    <span class="nav-badge admin">Admin</span>
                </div>

                <div class="nav-item admin-only" onclick="showPage('ai-gateway')" data-tooltip="Configure provedores de IA e monitore custos (Admin)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    AI Gateway
                    <span class="nav-badge admin">Admin</span>
                </div>

                <!-- SE√á√ÉO DEV - Oculta para user e client_admin! -->
                <div class="nav-section-header dev-only">Desenvolvimento</div>

                <div class="nav-item dev-only" onclick="showPage('flow-architecture')" data-tooltip="Visualize o pipeline de 14 nodes (Dev)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                    </svg>
                    Arquitetura do Fluxo
                    <span class="nav-badge dev">Dev</span>
                </div>

                <div class="nav-item dev-only" onclick="showPage('backend')" data-tooltip="Monitoramento de logs e sistema (Dev)">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    Backend Monitor
                    <span class="nav-badge dev">Dev</span>
                </div>

                <div class="nav-section-header">Configura√ß√£o</div>

                <div class="nav-item" onclick="showPage('settings')" data-tooltip="Configure o comportamento do chatbot">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    Configura√ß√µes
                </div>
            </nav>

            <div class="separator"></div>

            <div class="user-info">
                <p>Conectado como:</p>
                <p class="user-name" id="userName">Cliente Padr√£o</p>
                <p style="font-size: 11px; color: #B0B0B0; margin-top: 4px;">cliente@empresa.com</p>
                <span class="user-role" id="userRole">USER</span>
                <button class="logout-btn">Sair</button>
            </div>

            <div class="separator"></div>

            <div class="version-info">
                <p>Vers√£o 2.0.0 (UZZ.AI)</p>
                <div class="status-indicator">
                    <span class="status-dot"></span>
                    <span>Autentica√ß√£o Ativa</span>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard" class="page-content active">
                <div class="page-header">
                    <h2>Dashboard</h2>
                    <p>Dashboard customiz√°vel com m√©tricas e gr√°ficos</p>
                </div>

                <div class="success-banner">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="content">
                        <h4>‚ú® Melhorias Implementadas!</h4>
                        <p>Esta vers√£o do dashboard implementa todas as recomenda√ß√µes do relat√≥rio UX/UI:</p>
                        <ul>
                            <li><strong>‚úÖ Role-Based Navigation:</strong> Menu lateral adapta-se ao seu perfil</li>
                            <li><strong>‚úÖ Hierarquia Visual:</strong> Se√ß√µes organizadas (Principal, Gest√£o, Admin, Dev)</li>
                            <li><strong>‚úÖ Badges Informativos:</strong> Novo, Beta, Admin, Dev</li>
                            <li><strong>‚úÖ Tooltips de Ajuda:</strong> Passe o mouse sobre os itens do menu</li>
                            <li><strong>‚úÖ Identidade UZZ.AI:</strong> Cores, fontes e est√©tica retrofuturista aplicadas</li>
                        </ul>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <h3>Total de Conversas</h3>
                        <div class="value">1,234</div>
                        <div class="trend">‚Üë +12% esta semana</div>
                    </div>
                    <div class="metric-card">
                        <h3>Clientes Ativos</h3>
                        <div class="value">567</div>
                        <div class="trend">‚Üë +8% esta semana</div>
                    </div>
                    <div class="metric-card">
                        <h3>Mensagens Hoje</h3>
                        <div class="value">8,912</div>
                        <div class="trend">‚Üë +23% vs ontem</div>
                    </div>
                    <div class="metric-card">
                        <h3>Taxa de Resposta</h3>
                        <div class="value">94%</div>
                        <div class="trend">‚Üë +2% esta semana</div>
                    </div>
                </div>
            </div>

            <!-- Conversations Page -->
            <div id="conversations" class="page-content">
                <div class="page-header">
                    <h2>Conversas</h2>
                    <p>Gerencie todas as conversas do WhatsApp</p>
                </div>

                <div class="conversations-list">
                    <div class="conversation-item">
                        <div>
                            <div class="conversation-name">Jo√£o Silva</div>
                            <div class="conversation-phone">+55 11 99999-9999</div>
                        </div>
                        <span class="status-badge bot">Bot</span>
                    </div>
                    <div class="conversation-item">
                        <div>
                            <div class="conversation-name">Maria Santos</div>
                            <div class="conversation-phone">+55 11 98888-8888</div>
                        </div>
                        <span class="status-badge humano">Humano</span>
                    </div>
                    <div class="conversation-item">
                        <div>
                            <div class="conversation-name">Pedro Costa</div>
                            <div class="conversation-phone">+55 11 97777-7777</div>
                        </div>
                        <span class="status-badge transferido">Transferido</span>
                    </div>
                </div>
            </div>

            <!-- Contacts Page -->
            <div id="contacts" class="page-content">
                <div class="page-header">
                    <h2>Contatos</h2>
                    <p>Lista de todos os contatos cadastrados</p>
                </div>

                <div class="conversations-list">
                    <div class="conversation-item">
                        <div>
                            <div class="conversation-name">Ana Paula</div>
                            <div class="conversation-phone">+55 11 96666-6666</div>
                        </div>
                    </div>
                    <div class="conversation-item">
                        <div>
                            <div class="conversation-name">Carlos Mendes</div>
                            <div class="conversation-phone">+55 11 95555-5555</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Templates Page -->
            <div id="templates" class="page-content">
                <div class="page-header">
                    <h2>Templates</h2>
                    <p>Gerencie templates de mensagens do WhatsApp</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <h3>Nenhum template criado</h3>
                    <p>Crie seu primeiro template de mensagem para o WhatsApp Business</p>
                    <button>Criar Primeiro Template</button>
                </div>
            </div>

            <!-- Knowledge Page -->
            <div id="knowledge" class="page-content">
                <div class="page-header">
                    <h2>Base de Conhecimento</h2>
                    <p>Documentos e arquivos para o chatbot (RAG)</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                    </svg>
                    <h3>Nenhum documento adicionado</h3>
                    <p>Adicione PDFs ou arquivos TXT para treinar o chatbot com conhecimento espec√≠fico</p>
                    <button>Adicionar Primeiro Documento</button>
                </div>
            </div>

            <!-- Flows Page -->
            <div id="flows" class="page-content">
                <div class="page-header">
                    <h2>Flows Interativos</h2>
                    <p>Crie fluxos de conversa automatizados</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path>
                    </svg>
                    <h3>Nenhum fluxo criado</h3>
                    <p>Crie fluxos interativos para automatizar conversas complexas</p>
                    <button>Criar Primeiro Fluxo</button>
                </div>
            </div>

            <!-- Analytics Page -->
            <div id="analytics" class="page-content">
                <div class="page-header">
                    <h2>Analytics</h2>
                    <p>M√©tricas e estat√≠sticas de uso</p>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <h3>Taxa de Convers√£o</h3>
                        <div class="value">23%</div>
                        <div class="trend">‚Üë +5% esta semana</div>
                    </div>
                    <div class="metric-card">
                        <h3>Tempo M√©dio de Resposta</h3>
                        <div class="value">2.3s</div>
                        <div class="trend">‚Üì -0.4s vs ontem</div>
                    </div>
                    <div class="metric-card">
                        <h3>Satisfa√ß√£o (NPS)</h3>
                        <div class="value">8.7</div>
                        <div class="trend">‚Üë +0.3 pontos</div>
                    </div>
                    <div class="metric-card">
                        <h3>Custo por Conversa</h3>
                        <div class="value">R$ 0.15</div>
                        <div class="trend">‚Üì -R$ 0.02 vs ontem</div>
                    </div>
                </div>
            </div>

            <!-- Budget Plans Page (ADMIN ONLY) -->
            <div id="budget-plans" class="page-content">
                <div class="success-banner">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="content">
                        <h4>‚úÖ SOLU√á√ÉO: Role-Based Navigation</h4>
                        <p>Esta p√°gina agora est√° <strong>oculta</strong> para clientes padr√£o! Apenas usu√°rios com role <strong>"admin"</strong> podem acessar.</p>
                    </div>
                </div>

                <div class="page-header">
                    <h2>Budget Plans</h2>
                    <p>Gerencie planos de or√ßamento e limites de uso</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <h3>Configura√ß√£o de Budget Plans</h3>
                    <p>Defina limites de uso e or√ßamento por cliente</p>
                    <button>Criar Novo Plano</button>
                </div>
            </div>

            <!-- AI Gateway Page (ADMIN ONLY) -->
            <div id="ai-gateway" class="page-content">
                <div class="success-banner">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="content">
                        <h4>‚úÖ SOLU√á√ÉO: Role-Based Navigation</h4>
                        <p>Esta p√°gina t√©cnica agora est√° <strong>oculta</strong> para clientes padr√£o! Apenas usu√°rios com role <strong>"admin"</strong> podem configurar provedores de IA.</p>
                    </div>
                </div>

                <div class="page-header">
                    <h2>AI Gateway</h2>
                    <p>Configure provedores de IA e monitore custos</p>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <h3>Custo Total (24h)</h3>
                        <div class="value">R$ 42.50</div>
                        <div class="trend">‚Üì -R$ 3.20 vs ontem</div>
                    </div>
                    <div class="metric-card">
                        <h3>Requests</h3>
                        <div class="value">1,523</div>
                        <div class="trend">‚Üë +145 requests</div>
                    </div>
                    <div class="metric-card">
                        <h3>Cache Hit Rate</h3>
                        <div class="value">68%</div>
                        <div class="trend">‚Üë +4% vs ontem</div>
                    </div>
                    <div class="metric-card">
                        <h3>Economia Cache</h3>
                        <div class="value">R$ 89.20</div>
                        <div class="trend">‚Üë +R$ 12.50 hoje</div>
                    </div>
                </div>
            </div>

            <!-- Flow Architecture Page (DEV ONLY) -->
            <div id="flow-architecture" class="page-content">
                <div class="success-banner">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="content">
                        <h4>‚úÖ SOLU√á√ÉO: Role-Based Navigation</h4>
                        <p>Esta ferramenta de desenvolvimento agora est√° <strong>oculta</strong> para clientes! Apenas usu√°rios com role <strong>"admin"</strong> (devs) podem visualizar o pipeline t√©cnico.</p>
                    </div>
                </div>

                <div class="page-header">
                    <h2>Arquitetura do Fluxo</h2>
                    <p>Visualize o pipeline de processamento de mensagens (14 nodes)</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                    </svg>
                    <h3>Pipeline de Processamento</h3>
                    <p>Diagrama Mermaid com os 14 nodes do chatbotFlow.ts</p>
                </div>
            </div>

            <!-- Backend Monitor Page (DEV ONLY) -->
            <div id="backend" class="page-content">
                <div class="success-banner">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="content">
                        <h4>‚úÖ SOLU√á√ÉO: Role-Based Navigation</h4>
                        <p>Esta ferramenta de monitoramento t√©cnico agora est√° <strong>oculta</strong> para clientes! Apenas usu√°rios com role <strong>"admin"</strong> (devs) podem ver logs de sistema.</p>
                    </div>
                </div>

                <div class="page-header">
                    <h2>Backend Monitor</h2>
                    <p>Logs de execu√ß√£o e monitoramento de sistema</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    <h3>Logs de Sistema</h3>
                    <p>Monitoramento de execu√ß√£o de nodes, erros e performance</p>
                </div>
            </div>

            <!-- Settings Page -->
            <div id="settings" class="page-content">
                <div class="page-header">
                    <h2>Configura√ß√µes</h2>
                    <p>Configure o comportamento do chatbot</p>
                </div>

                <div class="empty-state">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <h3>Configura√ß√µes do Sistema</h3>
                    <p>Personalize o comportamento do chatbot</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        let currentRole = 'user';

        function showPage(pageId) {
            // Esconder todas as p√°ginas
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.remove('active');
            });

            // Remover active de todos os nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Mostrar p√°gina selecionada
            document.getElementById(pageId).classList.add('active');

            // Adicionar active no nav item clicado
            event.currentTarget.classList.add('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function changeRole(role) {
            currentRole = role;

            // Atualizar user info
            const userName = document.getElementById('userName');
            const userRole = document.getElementById('userRole');

            if (role === 'user') {
                userName.textContent = 'Cliente Padr√£o';
                userRole.textContent = 'USER';
                userRole.style.background = 'rgba(176, 176, 176, 0.15)';
                userRole.style.color = '#B0B0B0';
                userRole.style.borderColor = 'rgba(176, 176, 176, 0.3)';
            } else if (role === 'client_admin') {
                userName.textContent = 'Admin Cliente';
                userRole.textContent = 'CLIENT ADMIN';
                userRole.style.background = 'rgba(46, 134, 171, 0.15)';
                userRole.style.color = '#2E86AB';
                userRole.style.borderColor = 'rgba(46, 134, 171, 0.3)';
            } else if (role === 'admin') {
                userName.textContent = 'Super Admin';
                userRole.textContent = 'ADMIN';
                userRole.style.background = 'rgba(255, 215, 0, 0.15)';
                userRole.style.color = '#FFD700';
                userRole.style.borderColor = 'rgba(255, 215, 0, 0.3)';
            }

            // Ocultar/mostrar itens baseado no role
            const adminItems = document.querySelectorAll('.admin-only');
            const devItems = document.querySelectorAll('.dev-only');

            if (role === 'user') {
                // Cliente padr√£o: ocultar tudo de admin e dev
                adminItems.forEach(item => item.classList.add('hidden'));
                devItems.forEach(item => item.classList.add('hidden'));
            } else if (role === 'client_admin') {
                // Admin do cliente: mostrar admin, ocultar dev
                adminItems.forEach(item => item.classList.remove('hidden'));
                devItems.forEach(item => item.classList.add('hidden'));
            } else if (role === 'admin') {
                // Super admin: mostrar tudo
                adminItems.forEach(item => item.classList.remove('hidden'));
                devItems.forEach(item => item.classList.remove('hidden'));
            }

            // Voltar para o dashboard
            showPage('dashboard');
        }

        // Inicializar com role 'user'
        window.addEventListener('DOMContentLoaded', () => {
            changeRole('user');
        });
    </script>
</body>
</html>
